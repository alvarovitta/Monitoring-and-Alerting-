## Overview 

Application Insights 

Application Insights is a set of services that provide actionable insight into applications at all stages of the application lifecycle. This data is then integrated into the monitoring and alerting and development tools and process. 

The usage of Application Insights consists of the following key scenarios: 

- Monitor  through dashboard and live metric streams 
- Detect, Diagnose correlate failures with exceptions, stackdumps, tracelogs. 
- Build, Measure, Lean: measure the effectiveness of newly deployed features 

As result, Application Insight telemetry can support both operational and business processes and stakeholders. 


## Guidance 

- Leverage Application across the application lifecycle (development, testing, and production.) To avoid confusion, send the telemetry from different development stages to separate Application Insights resources, with separate instrumentation keys. 

### Monitoring Guidance 

- Leverage 2 watcher nodes: the first from within Azure using Network Performance Manager (NPM), the other from outside, such as those provide through Application Insights Availability Tests. 
- The following compare the use of Application Insights LiveStream and Azure Monitor Metrics: 

|_ _ | __Live Stream__ |__Metrics Explorer and Analytics__ | 
|------------------------------|----------------------------|------------------|
| Latency  | Data displayed within one second |  Aggregated over minutes |
| No Retention  | Data persists while it's on the chart, and is then discarded  |  [Data Retained for 90 Days](https://docs.microsoft.com/en-us/azure/application-insights/app-insights-data-retention-privacy#how-long-is-the-data-kept) |
| On Demand  | Data is streamed while you open Live Metrics  | Data is sent whenever the SDK is installed and enabled |
| Cost | There is no charge for Live Stream data  |  Subject to [pricing](https://docs.microsoft.com/en-us/azure/application-insights/app-insights-pricing) |
| Sampling  | All selected metrics and counters are transmitted. Failures and stack traces are sampled. TelemetryProcessors are not applied.  |  Events may be [sampled](https://docs.microsoft.com/en-us/azure/application-insights/app-insights-api-filtering-sampling) |
| Control Channel  | Filter control signals are sent to the SDK. We recommend you [secure this channel](https://docs.microsoft.com/en-us/azure/application-insights/app-insights-live-stream#secure-channel).  | |

### Detect and Diagnose Guidance 

- Detect application code execution exceptions 
- Set Alerts and meaningful thresholds throughout the application lifecycle for the following key application metrics: 
